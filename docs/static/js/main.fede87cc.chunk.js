(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{24:function(e,t,a){},29:function(e){e.exports={products:[{id:1,name:"Spider-Man: Into the Spider-Verse (2018)",description:"Teen Miles Morales becomes Spider-Man of his reality, crossing his path with five counterparts from other dimensions to stop a threat for all realities. ",keywords:["spiderman"],image:"1-groot.jpg",age:["12+"],price:19.99,rating:4},{id:2,name:"Escape Room (2019)",description:"Six strangers find themselves in circumstances beyond their control, and must use their wits to survive. ",keywords:["action figure","toy story","posable","requires batteries"],image:"2-buzz.jpg",age:["13"],price:38.5,rating:2},{id:3,name:"Green Book (2018)",description:"A working-class Italian-American bouncer becomes the driver of an African-American classical pianist on a tour of venues through the 1960s American South. ",keywords:["Biography","Comedy","Drama","Music"],image:"3-minion-dave.jpg",age:["0","10"],price:12.99,rating:5},{id:4,name:"Fantastic Beasts: The Crimes of Grindelwald (2018)",description:"The second installment of the 'Fantastic Beasts' series featuring the adventures of Magizoologist Newt Scamander. ",keywords:["stuffed","plush","minions","Despicable Me"],image:"4-minion-kevin.jpg",age:["0","10"],price:12.99,rating:4},{id:5,name:"The Mule (2018)",description:"A 90-year-old horticulturist and Korean War veteran is caught transporting $3 million worth of cocaine through Illinois for a Mexican drug cartel.",keywords:["drug"],image:"5-minion-bob.jpg",age:["0","10"],price:12.99,rating:3}]}},36:function(e,t,a){e.exports=a(47)},47:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),l=a(25),s=a.n(l),o=a(49),c=a(3),i=(a(24),a(8)),m=a(9),u=a(12),A=a(10),d=a(11),E=a(51),g=a(7),h=Object(g.a)(),p=a(34),f=a(48),v=a(27),b=a(35),S=a(50),C=function(e){var t=e.component,a=Object(b.a)(e,["component"]);return n.a.createElement(v.a,Object.assign({},a,{render:function(e){return localStorage.getItem("user")?n.a.createElement(t,e):n.a.createElement(S.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},N=a(28),w=a.n(N);function O(e){var t=e.cart.filter(function(t){return t.id===e.product.id})[0];return n.a.createElement("div",{className:"card col-lg-3 col-sm-6 col-md-4 mt-3",style:{padding:"15px"}},n.a.createElement("img",{className:"card-img-top",title:e.product.name,alt:e.product.name,src:"/products/".concat(e.product.image)}),n.a.createElement("div",{className:"card-body"},n.a.createElement("h3",{className:"card-title"},e.product.name),n.a.createElement("div",null,n.a.createElement("p",null,"Availability "),n.a.createElement("p",null,e.product.avilability)),n.a.createElement("div",null,n.a.createElement("p",null,"Rating "),n.a.createElement(w.a,{initialRating:e.product.rating}))),n.a.createElement("div",{className:"card-footer text-muted"},t?n.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(){return e.removeFromCart(e.product)}},n.a.createElement("i",{className:"fa fa-shopping-cart"}),"Remove from Cart"):n.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(){return e.addToCart(e.product)}},n.a.createElement("i",{className:"fa fa-shopping-cart"}),"Add to Cart")))}var R=a(29);var I=Object(c.b)(function(e){return{cart:e.cart}},function(e){return{addToCart:function(t){e({type:"ADD",payload:t})},removeFromCart:function(t){e({type:"REMOVE",payload:t})}}})(function(e){var t=R.products,a=localStorage.getItem("user")?t:t.filter(function(e){return e.rating<=4});return n.a.createElement("div",{className:"row"},a.map(function(t,a){return n.a.createElement(O,{key:a,product:t,addToCart:e.addToCart,removeFromCart:e.removeFromCart,cart:e.cart})}))});var y=Object(c.b)(function(e){var t=e.users;return{user:e.authentication.user,users:t}})(function(e){return n.a.createElement("div",null,n.a.createElement("h2",null,"Home page"),n.a.createElement(I,null))}),k=a(14),U=a(6),j=a(30),G={REGISTER_REQUEST:"USERS_REGISTER_REQUEST",REGISTER_SUCCESS:"USERS_REGISTER_SUCCESS",REGISTER_FAILURE:"USERS_REGISTER_FAILURE",LOGIN_REQUEST:"USERS_LOGIN_REQUEST",LOGIN_SUCCESS:"USERS_LOGIN_SUCCESS",LOGIN_FAILURE:"USERS_LOGIN_FAILURE",LOGOUT:"USERS_LOGOUT",GETALL_REQUEST:"USERS_GETALL_REQUEST",GETALL_SUCCESS:"USERS_GETALL_SUCCESS",GETALL_FAILURE:"USERS_GETALL_FAILURE",DELETE_REQUEST:"USERS_DELETE_REQUEST",DELETE_SUCCESS:"USERS_DELETE_SUCCESS",DELETE_FAILURE:"USERS_DELETE_FAILURE"},T={SUCCESS:"ALERT_SUCCESS",ERROR:"ALERT_ERROR",CLEAR:"ALERT_CLEAR"},L={apiUrl:"http://localhost:4000"};function Q(){var e=JSON.parse(localStorage.getItem("user"));return e&&e.token?{Authorization:"Bearer "+e.token}:{}}var _={login:function(e,t){var a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})};return fetch("".concat(L.apiUrl,"/users/authenticate"),a).then(D).then(function(e){return e.token&&localStorage.setItem("user",JSON.stringify(e)),e})},logout:M,register:function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)};return console.log("register fetch"+L.apiUrl),console.log(t),fetch("".concat(L.apiUrl,"/users/register"),t).then(D).catch(console.error)},getAll:function(){var e={method:"GET",headers:Q()};return fetch("".concat(L.apiUrl,"/users"),e).then(D)}};function M(){localStorage.removeItem("user")}function D(e){return e.text().then(function(t){console.log(e.text());var a=t&&JSON.parse(t);if(!e.ok){401===e.status&&(M(),Location.reload(!0));var r=a&&a.message||e.statusText;return Promise.reject(r)}return a})}var x={login:function(e,t){return function(a){var r;a((r={username:e},{type:G.LOGIN_REQUEST,user:r})),_.login(e,t).then(function(e){a(function(e){return{type:G.LOGIN_SUCCESS,user:e}}(e)),h.push("/")},function(e){a(function(e){return{type:G.LOGIN_FAILURE,error:e}}(e.toString())),a(B.error(e.toString()))})}},logout:function(){return _.logout(),{type:G.LOGOUT}},register:function(e){return function(t){t(function(e){return{type:G.REGISTER_REQUEST,user:e}}(e)),_.register(e).then(function(e){t(function(e){return{type:G.REGISTER_SUCCESS,user:e}}()),h.push("/login"),t(B.success("Registration successful"))},function(e){t(function(e){return{type:G.REGISTER_FAILURE,error:e}}(e.toString())),t(B.error(e.toString()))})}}};var B={success:function(e){return{type:T.SUCCESS,message:e}},error:function(e){return{type:T.ERROR,message:e}},clear:function(){return{type:T.CLEAR}}};var F=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(A.a)(t).call(this,e))).props.dispatch(x.logout()),a.state={username:"",password:"",submitted:!1},a.handleChange=a.handleChange.bind(Object(U.a)(Object(U.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(U.a)(Object(U.a)(a))),a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"handleChange",value:function(e){var t=e.target,a=t.name,r=t.value;this.setState(Object(k.a)({},a,r))}},{key:"handleSubmit",value:function(e){e.preventDefault(),console.log("called. handleSubmit :"+this.state.username),this.setState({submitted:!0});var t=this.state,a=t.username,r=t.password,n=this.props.dispatch;a&&r?n(x.login(a,r)):console.log("not called. login")}},{key:"render",value:function(){var e=this.props.loggingIn,t=this.state,a=t.username,r=t.password,l=t.submitted;return n.a.createElement("div",null,n.a.createElement("div",{className:"page-title-wrapper"},n.a.createElement("h1",{className:"page-title"},n.a.createElement("span",{className:"base","data-ui-id":"page-title-wrapper"},"Customer Login"))),n.a.createElement("div",{className:"login-container row"},n.a.createElement("div",{className:"block-customer-login col-md-6"},n.a.createElement("div",{className:"block-title"},n.a.createElement("strong",{id:"block-customer-login-heading",role:"heading","aria-level":"2"},"Registered Customers")),n.a.createElement("div",{className:"block-content","aria-labelledby":"block-customer-login-heading"},n.a.createElement("form",{name:"form",className:"form-signin",onSubmit:this.handleSubmit},n.a.createElement("p",{className:"text-center text-muted"},"If you have an account, sign in with your user name"),n.a.createElement("div",{className:"form-group"+(l&&!a?" has-error":"")},n.a.createElement("label",{className:"label",htmlFor:"username"},n.a.createElement("span",null,"Username *")),n.a.createElement("input",{type:"text",className:"form-control",name:"username",value:a,onChange:this.handleChange,placeholder:"Username",required:!0}),l&&!a&&n.a.createElement("div",{className:"help-block"},"Username is required")),n.a.createElement("div",{className:"form-group"+(l&&!r?" has-error":"")},n.a.createElement("label",{className:"label",htmlFor:"password"},n.a.createElement("span",null,"Password *")),n.a.createElement("input",{type:"password",className:"form-control",name:"password",value:r,onChange:this.handleChange,placeholder:"Password *",required:!0}),l&&!r&&n.a.createElement("div",{className:"help-block"},"Password is required")),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"d-flex justify-content-center"},n.a.createElement("button",{className:"btn btn-primary btnSubmit"},"Sign in"),e&&n.a.createElement("img",{src:"data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA=="})))))),n.a.createElement("div",{className:"block-new-customer col-md-6"},n.a.createElement("div",{className:"block-title"},n.a.createElement("strong",{id:"block-new-customer-heading",role:"heading","aria-level":"2"},"New Customers")),n.a.createElement("div",{className:"block-content","aria-labelledby":"block-new-customer-heading"},n.a.createElement("p",null,"Creating an account has many benefits: check out faster, track orders and more."),n.a.createElement("div",{className:"actions-toolbar"},n.a.createElement("div",{className:"primary"},n.a.createElement(j.a,{to:"/register",className:"btn btn-primary btnSubmit"},n.a.createElement("span",null,"Create an Account"))))))))}}]),t}(r.Component);var J=Object(c.b)(function(e){return{loggingIn:e.authentication.loggingIn}})(F),K=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(A.a)(t).call(this,e))).className="main-div",a.props.dispatch(x.logout()),a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-lg-12 col-md-12 text-center"},n.a.createElement("h1",{className:"mt-5"},"You Have Been Logged Out"),n.a.createElement("h4",{className:"lead text-center"},"Thank you for using our website"),n.a.createElement("p",null,"Please click ",n.a.createElement("a",{href:"/login"},"here")," to login back to our site")))}}]),t}(r.Component),P=Object(c.b)()(K);var Y=Object(c.b)(function(e){return{cart:e.cart}},function(e){return{removeFromCart:function(t){e({type:"REMOVE",payload:t})}}})(function(e){return n.a.createElement("table",null,n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("td",null,"Item Name"),n.a.createElement("td",null),n.a.createElement("td",null))),n.a.createElement("tbody",null,e.cart.map(function(t){return n.a.createElement("tr",null,n.a.createElement("td",null,t.name),n.a.createElement("td",null,t.rating),n.a.createElement("td",null,n.a.createElement("button",{onClick:function(a){return e.removeFromCart(t)}},"Remove from Cart")))})))});function H(e){return n.a.createElement("div",null,n.a.createElement("h2",null,"Cart"),n.a.createElement(Y,null))}var z=Object(c.b)(function(e){var t=e.users;return{user:e.authentication.user,users:t}})(function(e){return n.a.createElement("div",null,n.a.createElement("h2",null,"Booking page"),e.user&&e.user.username&&n.a.createElement("p",null,e.user.username)||n.a.createElement("p",null,"not logged in"))}),V=a(31),W=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(A.a)(t).call(this,e))).state={user:{firstName:"",lastName:"",username:"",password:""},submitted:!1},a.handleChange=a.handleChange.bind(Object(U.a)(Object(U.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(U.a)(Object(U.a)(a))),a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"handleChange",value:function(e){var t=e.target,a=t.name,r=t.value,n=this.state.user;this.setState({user:Object(V.a)({},n,Object(k.a)({},a,r))})}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.setState({submitted:!0});var t=this.state.user,a=this.props.dispatch;t.firstName&&t.lastName&&t.username&&t.password&&a(x.register(t))}},{key:"render",value:function(){var e=this.props.registering,t=this.state,a=t.user,r=t.submitted;return n.a.createElement("div",{class:"my-form"},n.a.createElement("div",{class:"row justify-content-center"},n.a.createElement("div",{class:"col-md-8"},n.a.createElement("div",{class:"card"},n.a.createElement("div",{className:"h3 card-header"},"Create New Customer Account"),n.a.createElement("div",{class:"card-body"},n.a.createElement("form",{name:"form",onSubmit:this.handleSubmit},n.a.createElement("legend",{className:"legend col-form-label"},n.a.createElement("span",null,"Personal Information")),n.a.createElement("div",{className:"form-group row"+(r&&!a.firstName?" has-error":"")},n.a.createElement("label",{className:"col-md-4 col-form-label text-md-right",htmlFor:"firstName"},"First Name"),n.a.createElement("div",{class:"col-md-6"},n.a.createElement("input",{type:"text",className:"form-control",name:"firstName",value:a.firstName,onChange:this.handleChange,required:!0}),r&&!a.firstName&&n.a.createElement("div",{className:"invalid-feedback"},"First Name is required"))),n.a.createElement("div",{className:"form-group row"+(r&&!a.lastName?" invalid-feedback":"")},n.a.createElement("label",{className:"col-md-4 col-form-label text-md-right",htmlFor:"lastName"},"Last Name"),n.a.createElement("div",{class:"col-md-6"},n.a.createElement("input",{type:"text",className:"form-control",name:"lastName",value:a.lastName,onChange:this.handleChange,required:!0}),r&&!a.lastName&&n.a.createElement("div",{className:"invalid-feedback"},"Last Name is required"))),n.a.createElement("legend",{class:"legend col-form-label"},n.a.createElement("span",null,"Sign-in Information")),n.a.createElement("div",{className:"form-group row"+(r&&!a.username?" has-error":"")},n.a.createElement("label",{className:"col-md-4 col-form-label text-md-right",htmlFor:"username"},"Username"),n.a.createElement("div",{class:"col-md-6"},n.a.createElement("input",{type:"text",className:"form-control",name:"username",value:a.username,onChange:this.handleChange,required:!0}),r&&!a.username&&n.a.createElement("div",{className:"invalid-feedback"},"Username is required"))),n.a.createElement("div",{className:"form-group row"+(r&&!a.password?" has-error":"")},n.a.createElement("label",{className:"col-md-4 col-form-label text-md-right",htmlFor:"password"},"Password"),n.a.createElement("div",{class:"col-md-6"},n.a.createElement("input",{type:"password",className:"form-control",name:"password",value:a.password,onChange:this.handleChange,required:!0}),r&&!a.password&&n.a.createElement("div",{className:"invalid-feedback"},"Password is required"))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"d-flex justify-content-center"},n.a.createElement("button",{className:"btn btn-primary btnSubmit col-md-3"},"Register"),e&&n.a.createElement("img",{src:"data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA=="}),n.a.createElement(j.a,{to:"/login",className:"btn btn-link"},"Sign in")))))))))}}]),t}(r.Component);var q=Object(c.b)(function(e){return{registering:e.registration.registering}})(W);function Z(e){return n.a.createElement("div",null,n.a.createElement("h2",null,"Admin page"),n.a.createElement("h3",null,"Protected"))}var X=function(e){return n.a.createElement(p.a,{history:h},n.a.createElement("div",null,n.a.createElement("nav",{className:"navbar navbar-expand-sm bg-dark navbar-dark"},n.a.createElement("span",{className:"navbar-brand mb-0 h1"},"Video rental Shop"),n.a.createElement("ul",{className:"navbar-nav"},n.a.createElement("li",{className:"nav-item"},n.a.createElement(f.a,{className:"nav-link",to:"/"},"Home")," "),n.a.createElement("li",{className:"nav-item"},n.a.createElement(f.a,{className:"nav-link",to:"/cart"},"Cart")," "),localStorage.getItem("user")?n.a.createElement("li",{className:"nav-item"},n.a.createElement(f.a,{className:"nav-link",to:"/booking"},"Booking")," "):null),n.a.createElement("ul",{className:"navbar-nav ml-auto"},localStorage.getItem("user")?n.a.createElement("li",{className:"nav-item"},n.a.createElement(f.a,{className:"nav-link",to:"/logout"},"Logout")):n.a.createElement("li",{className:"nav-item"},n.a.createElement(f.a,{className:"nav-link",to:"/login"},"Login")))),n.a.createElement(v.a,{exact:!0,path:"/",component:y}),n.a.createElement(v.a,{exact:!0,path:"/login",component:J}),n.a.createElement(v.a,{exact:!0,path:"/logout",component:P}),n.a.createElement(v.a,{exact:!0,path:"/cart",component:H}),n.a.createElement(C,{exact:!0,path:"/booking",component:z}),n.a.createElement(C,{exact:!0,path:"/admin",component:Z}),n.a.createElement(v.a,{exact:!0,path:"/register",component:q})))},$=function(e){function t(e){var a;Object(i.a)(this,t);var r=(a=Object(u.a)(this,Object(A.a)(t).call(this,e))).props.dispatch;return h.listen(function(e,t){r(B.clear())}),a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.alert;return n.a.createElement("div",null,n.a.createElement(X,null),e.message&&n.a.createElement("div",{className:"alert ".concat(e.type)},e.message))}}]),t}(r.Component);var ee=Object(E.a)(Object(c.b)(function(e){return{alert:e.alert}})($)),te=a(13),ae=a(33),re=a(17),ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD":return[].concat(Object(re.a)(e),[t.payload]);case"REMOVE":var a=e.indexOf(t.payload);return e.filter(function(e,t){return t!==a});default:return e}},le=JSON.parse(localStorage.getItem("user")),se=le?{loggedIn:!0,user:le}:{};var oe=Object(te.c)({cart:ne,authentication:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case G.LOGIN_REQUEST:return{loggingIn:!0,user:t.user};case G.LOGIN_SUCCESS:return{loggedIn:!0,user:t.user};case G.LOGIN_FAILURE:case G.LOGOUT:return{};default:return e}},registration:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};switch((arguments.length>1?arguments[1]:void 0).type){case G.REGISTER_REQUEST:return{registering:!0};case G.REGISTER_SUCCESS:case G.REGISTER_FAILURE:return{};default:return e}},alert:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T.SUCCESS:return{type:"alert-success",message:t.message};case T.ERROR:return{type:"alert-danger",message:t.message};case T.CLEAR:return{};default:return e}}}),ce=("object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):te.d)(Object(te.a)(ae.a)),ie=Object(te.e)(oe,ce),me=JSON.parse(localStorage.getItem("users"))||[];!function(){var e=window.fetch;window.fetch=function(t,a){return new Promise(function(r,n){setTimeout(function(){if(t.endsWith("/users/authenticate")&&"POST"===a.method){var l=JSON.parse(a.body),s=me.filter(function(e){return e.username===l.username&&e.password===l.password});if(s.length){var o=s[0],c={id:o.id,username:o.username,firstName:o.firstName,lastName:o.lastName,token:"fake-jwt-token"};r({ok:!0,text:function(){return Promise.resolve(JSON.stringify(c))}})}else n("Username or password is incorrect")}else if(t.endsWith("/users")&&"GET"===a.method)a.headers&&"Bearer fake-jwt-token"===a.headers.Authorization?r({ok:!0,text:function(){return Promise.resolve(JSON.stringify(me))}}):n("Unauthorised");else if(t.match(/\/users\/\d+$/)&&"GET"===a.method)if(a.headers&&"Bearer fake-jwt-token"===a.headers.Authorization){var i=t.split("/"),m=parseInt(i[i.length-1]),u=me.filter(function(e){return e.id===m}),A=u.length?u[0]:null;r({ok:!0,text:function(){return JSON.stringify(A)}})}else n("Unauthorised");else{if(t.endsWith("/users/register")&&"POST"===a.method){var d=JSON.parse(a.body);return me.filter(function(e){return e.username===d.username}).length?void n('Username "'+d.username+'" is already taken'):(d.id=me.length?Math.max.apply(Math,Object(re.a)(me.map(function(e){return e.id})))+1:1,me.push(d),localStorage.setItem("users",JSON.stringify(me)),void r({ok:!0,text:function(){return Promise.resolve()}}))}if(t.match(/\/users\/\d+$/)&&"DELETE"===a.method)if(a.headers&&"Bearer fake-jwt-token"===a.headers.Authorization){for(var E=t.split("/"),g=parseInt(E[E.length-1]),h=0;h<me.length;h++)if(me[h].id===g){me.splice(h,1),localStorage.setItem("users",JSON.stringify(me));break}r({ok:!0,text:function(){return Promise.resolve()}})}else n("Unauthorised");else e(t,a).then(function(e){return r(e)})}},500)})}}();var ue=n.a.createElement(c.a,{store:ie},n.a.createElement(o.a,null,n.a.createElement(ee,null)));s.a.render(ue,document.getElementById("root"))}},[[36,2,1]]]);
//# sourceMappingURL=main.fede87cc.chunk.js.map