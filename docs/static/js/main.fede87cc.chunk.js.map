{"version":3,"sources":["config/history.js","features/privateroute/index.js","features/product-listing/product-item.js","features/product-listing/index.js","pages/homepage.js","constants/user.constants.js","constants/alert.constants.js","config/settings.js","config/auth-header.js","services/user.service.js","actions/user.actions.js","actions/alert.actions.js","pages/loginpage.js","pages/logoutpage.js","features/cart/index.js","pages/cartpage.js","pages/bookingpage.js","pages/registerpage.js","pages/adminpage.js","Router.js","App.js","features/cart/reducer.js","features/authenticate/auth.reducer.js","config/store.js","features/authenticate/registration.reducer.js","features/alert/alert.reducer.js","services/fake-backend.js","index.js"],"names":["history","createBrowserHistory","PrivateRoute","_ref","Component","component","rest","Object","objectWithoutProperties","react_default","a","createElement","Route","assign","render","props","localStorage","getItem","Redirect","to","pathname","state","from","location","ProductItem","thisItemInCart","cart","filter","item","id","product","className","style","padding","title","name","alt","src","concat","image","avilability","react_rating_default","initialRating","rating","type","onClick","removeFromCart","addToCart","connect","dispatch","payload","products","data","filteredProducts","map","index","key","connectedHomePage","users","user","authentication","product_listing","userConstants","REGISTER_REQUEST","REGISTER_SUCCESS","REGISTER_FAILURE","LOGIN_REQUEST","LOGIN_SUCCESS","LOGIN_FAILURE","LOGOUT","GETALL_REQUEST","GETALL_SUCCESS","GETALL_FAILURE","DELETE_REQUEST","DELETE_SUCCESS","DELETE_FAILURE","alertConstants","SUCCESS","ERROR","CLEAR","settings","apiUrl","authHeader","JSON","parse","token","Authorization","userService","login","username","password","requestOptions","method","headers","Content-Type","body","stringify","fetch","then","handleResponse","setItem","logout","register","console","log","catch","error","getAll","removeItem","response","text","ok","status","Location","reload","message","statusText","Promise","reject","userActions","success","push","failure","toString","alertActions","request","clear","LoginPage","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","submitted","handleChange","bind","assertThisInitialized","handleSubmit","e","_e$target","target","value","setState","defineProperty","preventDefault","_this$state","loggingIn","_this$state2","data-ui-id","role","aria-level","aria-labelledby","onSubmit","htmlFor","onChange","placeholder","required","Link","connectedLoginPage","LogoutPage","href","CartPage","connectedBookingPage","RegisterPage","firstName","lastName","event","_event$target","objectSpread","registering","class","connectedRegisterPage","registration","AdminPage","AppRouter","Router","NavLink","exact","path","HomePage","privateroute_PrivateRoute","BookingPage","App","listen","action","alert","src_Router","connectedApp","withRouter","cartReducer","arguments","length","undefined","toConsumableArray","firstMatchIndex","indexOf","initialState","loggedIn","rootReducer","combineReducers","enhancer","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","applyMiddleware","thunkMiddleware","store","createStore","realFetch","url","opts","resolve","setTimeout","endsWith","params","filteredUsers","responseJson","match","urlParts","split","parseInt","matchedUsers","newUser","Math","max","apply","i","splice","configureFakeBackend","app","es","BrowserRouter","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.fede87cc.chunk.js","sourcesContent":["import { createBrowserHistory } from 'history';\n\nexport const history = createBrowserHistory();","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\n\nexport const PrivateRoute = ({ component: Component, ...rest }) => (\n    <Route {...rest} render={props => (\n        localStorage.getItem('user')\n            ? <Component {...props} />\n            : <Redirect to={{ pathname: '/login', state: { from: props.location } }} />\n    )} />\n)","import React from 'react';\nimport Rating from 'react-rating'\n\n\nexport default function ProductItem(props){\n\n    const thisItemInCart = props.cart.filter( item => item.id === props.product.id)[0]\n\n    return(\n        <div className=\"card col-lg-3 col-sm-6 col-md-4 mt-3\" style={{padding:'15px'}}>\n\n            <img className='card-img-top' \n                  \n                  title={ props.product.name }\n                  alt={ props.product.name }\n                  src={`/products/${props.product.image}`}\n                  />\n            <div className=\"card-body\">\n                <h3 className=\"card-title\">{ props.product.name }</h3>\n\n                <div>\n                    <p>Availability </p>\n                    <p>{props.product.avilability}</p>\n                </div>\n                <div>\n                    <p>Rating </p>\n                    <Rating initialRating={props.product.rating} />\n                </div>\n            </div>\n\n            <div className=\"card-footer text-muted\">\n\n\n                {\n                    thisItemInCart\n                    ? <button type=\"button\" className=\"btn btn-primary\"\n                        onClick={ () => props.removeFromCart(props.product) }>\n                        <i className=\"fa fa-shopping-cart\"></i>\n                              Remove from Cart\n                      </button>\n                    : <button type=\"button\" className=\"btn btn-primary\"        \n                               onClick={ () => props.addToCart(props.product) }>               \n                            <i className=\"fa fa-shopping-cart\"></i>\n                                 Add to Cart\n                        </button>\n\n                }\n\n                </div>\n        </div>\n    );\n}","import React from 'react'\n\nimport ProductItem from \"./product-item\";\nimport { connect } from 'react-redux';\n\n// idially this will return from a API \nimport data from \"../../data/products.json\";\n\nfunction ProductListing(props){\n\n    const products = data.products\n    const filteredProducts = localStorage.getItem('user') ? \n                                        products:\n                                        products.filter(product => product.rating <= 4)\n\n    return(\n\n        <div className='row'>\n            {\n                // filter elements that have higher raiting unless member \n                \n                    filteredProducts.map( (product, index) =>\n                        <ProductItem key={index} \n                                     product={product}\n                                     addToCart={props.addToCart}\n                                     removeFromCart={props.removeFromCart}\n                                     cart={props.cart}/>\n                )\n            }\n        </div>\n    );\n}\n\n\nfunction mapStateToProps(state){\n    return {\n        cart: state.cart\n    }\n}\n\n\nfunction mapDispathToProps(dispatch) {\n    return{\n        addToCart: (item) => {\n            dispatch({\n                type: 'ADD',\n                payload: item\n            })\n        },\n        removeFromCart: (item) => {\n            dispatch({\n                type: \"REMOVE\",\n                payload: item\n            })\n        }\n    }\n}\n\nexport default connect(mapStateToProps, mapDispathToProps)(ProductListing)\n","import React from 'react'\nimport { connect } from 'react-redux';\n\nimport ProductListing from \"../features/product-listing\";\n\n\n\nfunction HomePage(props){\n\n\n    return(\n        <div>\n            <h2>Home page</h2>\n            \n            <ProductListing/>\n        </div>\n\n    );\n}\n\n\nfunction mapStateToProps(state) {\n    const { users, authentication } = state;\n    const { user } = authentication;\n    return {\n        user,\n        users\n    };\n}\nconst connectedHomePage = connect(mapStateToProps)(HomePage);\nexport { connectedHomePage as HomePage };\n","export const userConstants = {\n    REGISTER_REQUEST: 'USERS_REGISTER_REQUEST',\n    REGISTER_SUCCESS: 'USERS_REGISTER_SUCCESS',\n    REGISTER_FAILURE: 'USERS_REGISTER_FAILURE',\n\n    LOGIN_REQUEST: 'USERS_LOGIN_REQUEST',\n    LOGIN_SUCCESS: 'USERS_LOGIN_SUCCESS',\n    LOGIN_FAILURE: 'USERS_LOGIN_FAILURE',\n\n    LOGOUT: 'USERS_LOGOUT',\n\n    GETALL_REQUEST: 'USERS_GETALL_REQUEST',\n    GETALL_SUCCESS: 'USERS_GETALL_SUCCESS',\n    GETALL_FAILURE: 'USERS_GETALL_FAILURE',\n\n    DELETE_REQUEST: 'USERS_DELETE_REQUEST',\n    DELETE_SUCCESS: 'USERS_DELETE_SUCCESS',\n    DELETE_FAILURE: 'USERS_DELETE_FAILURE'    \n};","export const alertConstants = {\n    SUCCESS: 'ALERT_SUCCESS',\n    ERROR: 'ALERT_ERROR',\n    CLEAR: 'ALERT_CLEAR'\n};","export const settings= {\n    apiUrl: \"http://localhost:4000\"\n}","export function authHeader() {\n    // return authorization header with jwt token\n    let user = JSON.parse(localStorage.getItem('user'));\n\n    if (user && user.token) {\n        return { 'Authorization': 'Bearer ' + user.token };\n    } else {\n        return {};\n    }\n}","import { settings } from '../config/settings'\nimport { authHeader } from '../config/auth-header'\n\nexport const userService = {\n    login,\n    logout,\n    register,\n    getAll\n}\n\nfunction login(username, password) {\n    const requestOptions = {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ username, password })\n    };\n\n    return fetch(`${settings.apiUrl}/users/authenticate`, requestOptions)\n        .then(handleResponse)\n        .then(user => {\n            // login successful if there's a jwt token in the response\n            if (user.token) {\n                // store user details and jwt token in local storage to keep user logged in between page refreshes\n                localStorage.setItem('user', JSON.stringify(user));\n            }\n\n            return user;\n        });\n}\n\n\nfunction logout() {\n    // remove user from local storage to log user out\n    localStorage.removeItem('user');\n}\n\nfunction getAll() {\n    const requestOptions = {\n        method: 'GET',\n        headers: authHeader()\n    };\n\n    return fetch(`${settings.apiUrl}/users`, requestOptions).then(handleResponse);\n}\n\nfunction register(user) {\n    const requestOptions = {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(user)\n    };\n    console.log(\"register fetch\"+ settings.apiUrl);\n    console.log(requestOptions)\n    return fetch(`${settings.apiUrl}/users/register`, requestOptions)\n                .then(handleResponse)\n                .catch(console.error);\n}\n\nfunction handleResponse(response) {\n    return response.text().then(text => {\n        console.log(response.text())\n        const data = text && JSON.parse(text);\n        if (!response.ok) {\n            if (response.status === 401) {\n                // auto logout if 401 response returned from api\n                logout();\n                Location.reload(true);\n            }\n\n            const error = (data && data.message) || response.statusText;\n            return Promise.reject(error);\n        }\n\n        return data;\n    });\n}","import { userConstants } from '../constants'\nimport { alertActions } from './';\nimport { userService } from '../services'\nimport { history } from '../config/history'\n\nexport const userActions = {\n    login,\n    logout,\n    register,\n   // getAll,\n  //  delete: _delete\n};\n\nfunction login(username, password) {\n    return dispatch => {\n        dispatch(request({ username }));\n\n        userService.login(username, password)\n            .then(\n                user => { \n                    dispatch(success(user));\n                    history.push('/');\n                },\n                error => {\n                    dispatch(failure(error.toString()));\n                    dispatch(alertActions.error(error.toString()));\n                }\n            );\n    };\n\n    function request(user) { return { type: userConstants.LOGIN_REQUEST, user } }\n    function success(user) { return { type: userConstants.LOGIN_SUCCESS, user } }\n    function failure(error) { return { type: userConstants.LOGIN_FAILURE, error } }\n}\n\nfunction logout() {\n    userService.logout();\n    return { type: userConstants.LOGOUT };\n}\n\nfunction register(user) {\n    return dispatch => {\n        dispatch(request(user));\n\n        userService.register(user)\n            .then(\n                user => { \n                    dispatch(success());\n                    history.push('/login');\n                    dispatch(alertActions.success('Registration successful'));\n                },\n                error => {\n                    dispatch(failure(error.toString()));\n                    dispatch(alertActions.error(error.toString()));\n                }\n            );\n    };\n\n    function request(user) { return { type: userConstants.REGISTER_REQUEST, user } }\n    function success(user) { return { type: userConstants.REGISTER_SUCCESS, user } }\n    function failure(error) { return { type: userConstants.REGISTER_FAILURE, error } }\n}","import { alertConstants } from '../constants'\n\nexport const alertActions = {\n    success,\n    error,\n    clear\n};\n\nfunction success(message) {\n    return { type: alertConstants.SUCCESS, message };\n}\n\nfunction error(message) {\n    return { type: alertConstants.ERROR, message };\n}\n\nfunction clear() {\n    return { type: alertConstants.CLEAR };\n}","import React, { Component } from 'react'\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\n\nimport { userActions } from \"../actions\";\n\nclass LoginPage extends Component {\n\n    constructor(props) {\n        super(props);\n\n        // reset login status\n        this.props.dispatch(userActions.logout());\n        // this.props.logoutUser()\n\n        this.state = {\n            username: '',\n            password: '',\n            submitted: false\n        };\n\n        this.handleChange = this.handleChange.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n    }\n\n    handleChange(e) {\n        const { name, value } = e.target;\n        this.setState({ [name]: value });\n    }\n\n    handleSubmit(e) {\n        e.preventDefault();\n        console.log(\"called. handleSubmit :\"+ this.state.username);\n        this.setState({ submitted: true });\n        const { username, password } = this.state;\n        const { dispatch } = this.props;\n        if (username && password) {\n            dispatch(userActions.login(username, password));\n            // this.props.loginUser((username, password));\n        }else{\n            console.log(\"not called. login\");\n        }\n    }\n\n\n    render() {\n\n        const { loggingIn } = this.props;\n        const { username, password, submitted } = this.state;\n\n\n        return (\n            <div >\n                <div className=\"page-title-wrapper\">\n                    <h1 className=\"page-title\">\n                        <span className=\"base\" data-ui-id=\"page-title-wrapper\">Customer Login</span>\n                    </h1>\n                </div>\n                <div className=\"login-container row\">\n                  \n                    <div className=\"block-customer-login col-md-6\">\n                        <div className=\"block-title\">\n                            <strong id=\"block-customer-login-heading\" role=\"heading\" aria-level=\"2\">Registered Customers</strong>\n                        </div>\n                        <div className=\"block-content\" aria-labelledby=\"block-customer-login-heading\">\n\n                            <form name=\"form\" className='form-signin' onSubmit={this.handleSubmit}>\n                                \n                                <p className='text-center text-muted'>If you have an account, sign in with your user name</p>\n\n                                <div className={'form-group' + (submitted && !username ? ' has-error' : '')}>\n                                    <label className=\"label\" htmlFor=\"username\"><span>Username *</span></label>\n                                    <input type=\"text\" className=\"form-control\" name=\"username\" value={username} onChange={this.handleChange} placeholder=\"Username\" required />\n                                    {submitted && !username &&\n                                        <div className=\"help-block\">Username is required</div>\n                                    }\n                                </div>\n\n                                <div className={'form-group' + (submitted && !password ? ' has-error' : '')}>\n                                    <label className=\"label\" htmlFor=\"password\"><span>Password *</span></label>\n                                    <input type=\"password\" className=\"form-control\" name=\"password\" value={password} onChange={this.handleChange} placeholder=\"Password *\" required />\n                                    {submitted && !password &&\n                                        <div className=\"help-block\">Password is required</div>\n                                    }\n                                </div>\n\n                                <div className='form-group'>\n                                    <div className=\"d-flex justify-content-center\">\n                                        <button className=\"btn btn-primary btnSubmit\">Sign in</button>\n                                        {loggingIn &&\n                                            <img src=\"data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==\" />\n                                        }\n                                    </div>\n                                </div>\n\n                            </form>\n\n                        </div>\n                    </div>\n\n\n                    <div className=\"block-new-customer col-md-6\">\n                        <div className=\"block-title\">\n                            <strong id=\"block-new-customer-heading\" role=\"heading\" aria-level=\"2\">New Customers</strong>\n                        </div>\n                        <div className=\"block-content\" aria-labelledby=\"block-new-customer-heading\">\n                            <p>Creating an account has many benefits: check out faster, track orders and more.</p>\n                            <div className=\"actions-toolbar\">\n                                <div className=\"primary\">\n                                    <Link to=\"/register\" className=\"btn btn-primary btnSubmit\"><span>Create an Account</span></Link>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n\n\n                </div>\n            </div>\n        );\n    }\n}\n\nfunction mapStateToProps(state) {\n    const { loggingIn } = state.authentication;\n    return {\n        loggingIn\n    };\n}\n\n// function mapDispathToProps(dispatch) {\n//     return{\n//         loginUser: (username, password) => {\n//             dispatch(userActions.login(username, password))\n//         },\n//         logoutUser: (username, password) => {\n//             dispatch(userActions.logout())\n//         }\n//     }\n// }\n\nconst connectedLoginPage = connect(mapStateToProps)(LoginPage);\nexport { connectedLoginPage as LoginPage }; \n","import React, { Component } from 'react'\nimport { connect } from 'react-redux';\n\nimport { userActions } from \"../actions\";\n\n\nclass LogoutPage extends Component {\n    constructor(props) {\n        super(props);\n\n        // reset login status\n        this.props.dispatch(userActions.logout());\n        // this.props.logoutUser()\n    }\nclassName=\"main-div\"\n\n    render() {\n       return <div className=\"row\">\n        <div className=\"col-lg-12 col-md-12 text-center\">\n            <h1 className=\"mt-5\">You Have Been Logged Out</h1>\n            <h4 className=\"lead text-center\">Thank you for using our website</h4>\n\n            <p>Please click <a href='/login'>here</a> to login back to our site</p>\n        </div>\n     </div>\n    }\n}\n\nconst connectedLoginPage = connect()(LogoutPage);\nexport { connectedLoginPage as LogoutPage }; \n// export default LogoutPage","import React from 'react';\nimport { connect } from \"react-redux\";\n\nfunction Cart(props){\n    return <table>\n        <thead>\n            <tr>\n            <td>Item Name</td>\n            <td></td>\n            <td></td>\n            </tr>\n        </thead>\n        <tbody>\n\n            {\n                props.cart.map(item => <tr>\n                        <td>{ item.name }</td>\n                        <td>{ item.rating }</td>\n                        <td>\n                            <button onClick={(e) => props.removeFromCart(item)}>\n                                    Remove from Cart\n                            </button>\n                        </td>\n                    </tr>\n                )\n            }\n\n        </tbody>\n\n    </table>\n    \n\n    \n}\n\n\nfunction mapStateToProps(state){\n    return {\n        cart: state.cart\n    }\n}\n\nfunction mapDispatchToProps(dispatch){\n    return {\n        removeFromCart: (item) => {\n            dispatch({\n                type: \"REMOVE\",\n                payload: item\n            })\n        }\n    }\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Cart)","import React from 'react'\n\nimport Cart from '../features/cart'\n\n\nexport default function CartPage(props){\n\n    return(\n        <div>\n            <h2>Cart</h2>\n            <Cart/>\n        </div>\n\n    );\n}","import React from 'react'\nimport { connect } from 'react-redux';\n\n\n\nfunction BookingPage(props){\n\n    return(\n        <div>\n            <h2>Booking page</h2>\n            {\n               (props.user && props.user.username &&\n                <p>{ props.user.username }</p>) ||\n                <p>not logged in</p>\n                   \n            }\n        </div>\n\n    );\n}\n\nfunction mapStateToProps(state) {\n  const { users, authentication } = state;\n  const { user } = authentication;\n  return {\n      user,\n      users\n  };\n}\nconst connectedBookingPage = connect(mapStateToProps)(BookingPage);\nexport { connectedBookingPage as BookingPage };","import React, { Component } from 'react'\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\n\nimport { userActions } from \"../actions\";\n\nclass RegisterPage extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            user: {\n                firstName: '',\n                lastName: '',\n                username: '',\n                password: ''\n            },\n            submitted: false\n        };\n\n        this.handleChange = this.handleChange.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n    }\n\n    handleChange(event) {\n        const { name, value } = event.target;\n        const { user } = this.state;\n        this.setState({\n            user: {\n                ...user,\n                [name]: value\n            }\n        });\n    }\n\n    handleSubmit(event) {\n        event.preventDefault();\n\n        this.setState({ submitted: true });\n        const { user } = this.state;\n        // const dispatch = this.props;\n        const { dispatch } = this.props;\n        if (user.firstName && user.lastName && user.username && user.password) {\n            dispatch(userActions.register(user));\n            // this.props.registerUser(user)\n        }\n    }\n\n    render() {\n        const { registering } = this.props;\n        const { user, submitted } = this.state;\n        return (\n            <div class=\"my-form\">\n                <div class=\"row justify-content-center\">\n                    <div class=\"col-md-8\">\n                        <div class=\"card\">\n                            <div className=\"h3 card-header\">Create New Customer Account</div>\n                            <div class=\"card-body\">\n\n                                <form name=\"form\" onSubmit={this.handleSubmit}>\n                                    \n                                    <legend className=\"legend col-form-label\"><span>Personal Information</span></legend>\n\n                                    <div className={'form-group row' + (submitted && !user.firstName ? ' has-error' : '')}>\n                                        <label className=\"col-md-4 col-form-label text-md-right\" htmlFor=\"firstName\">First Name</label>\n                                        <div class=\"col-md-6\">\n                                            <input type=\"text\" className=\"form-control\" name=\"firstName\" value={user.firstName} onChange={this.handleChange} required />\n                                            {submitted && !user.firstName &&\n                                                <div className=\"invalid-feedback\">First Name is required</div>\n                                            }\n                                        </div>\n                                    </div>\n\n\n                                    <div className={'form-group row' + (submitted && !user.lastName ? ' invalid-feedback' : '')}>\n                                        <label className=\"col-md-4 col-form-label text-md-right\" htmlFor=\"lastName\">Last Name</label>\n                                        <div class=\"col-md-6\">\n                                            <input type=\"text\" className=\"form-control\" name=\"lastName\" value={user.lastName} onChange={this.handleChange} required />\n                                            {submitted && !user.lastName &&\n                                                <div className=\"invalid-feedback\">Last Name is required</div>\n                                            }\n                                        </div>\n                                    </div>\n\n                                    <legend class=\"legend col-form-label\"><span>Sign-in Information</span></legend>\n\n                                    <div className={'form-group row' + (submitted && !user.username ? ' has-error' : '')}>\n                                        <label className=\"col-md-4 col-form-label text-md-right\" htmlFor=\"username\">Username</label>\n                                        <div class=\"col-md-6\">\n                                            <input type=\"text\" className=\"form-control\" name=\"username\" value={user.username} onChange={this.handleChange} required />\n                                            {submitted && !user.username &&\n                                                <div className=\"invalid-feedback\">Username is required</div>\n                                            }\n                                        </div>\n                                    </div>\n                                    <div className={'form-group row' + (submitted && !user.password ? ' has-error' : '')}>\n                                        <label className=\"col-md-4 col-form-label text-md-right\" htmlFor=\"password\">Password</label>\n                                        <div class=\"col-md-6\">\n                                            <input type=\"password\" className=\"form-control\" name=\"password\" value={user.password} onChange={this.handleChange} required />\n                                            {submitted && !user.password &&\n                                                <div className=\"invalid-feedback\">Password is required</div>\n                                            }\n                                        </div>\n                                    </div>\n\n                                    <div className=\"form-group\">\n                                        <div className=\"d-flex justify-content-center\">\n                                            <button className=\"btn btn-primary btnSubmit col-md-3\">Register</button>\n                                            {registering &&\n                                                <img src=\"data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==\" />\n                                            }\n                                            <Link to=\"/login\" className=\"btn btn-link\">Sign in</Link>\n                                        </div>\n                                    </div>\n                                </form>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nfunction mapStateToProps(state) {\n    const { registering } = state.registration;\n    return {\n        registering\n    };\n}\n\n// function mapDispathToProps(dispatch) {\n//     return{\n//         registerUser: (user) => {\n//             dispatch(userActions.register(user))\n//         }\n//     }\n// }\n\n\nconst connectedRegisterPage = connect(mapStateToProps)(RegisterPage);\nexport { connectedRegisterPage as RegisterPage };","import React from 'react'\n\nexport default function AdminPage(props){\n\n    return(\n        <div>\n            <h2>Admin page</h2>\n            <h3>Protected</h3>\n        </div>\n\n    );\n}","import React from 'react'\n\nimport {Switch, Route,Router, NavLink } from 'react-router-dom'\n\nimport { PrivateRoute } from './features/privateroute'\n\nimport { HomePage } from './pages/homepage';\nimport { LoginPage } from './pages/loginpage';\nimport { LogoutPage } from './pages/logoutpage';\nimport CartPage from \"./pages/cartpage\";\nimport { BookingPage } from './pages/bookingpage';\nimport { RegisterPage } from \"./pages/registerpage\";\nimport {history} from \"./config/history\";\n\nimport AdminPage from \"./pages/adminpage\";\n     \n\n\nconst AppRouter = (props) => (\n\n    <Router history={history}>\n            <div>\n            <nav className='navbar navbar-expand-sm bg-dark navbar-dark'>\n                <span className=\"navbar-brand mb-0 h1\">Video rental Shop</span>\n\n                <ul className='navbar-nav'>\n                    <li className=\"nav-item\"><NavLink className=\"nav-link\" to='/'>Home</NavLink> </li>\n                    <li className=\"nav-item\"><NavLink className=\"nav-link\" to='/cart'>Cart</NavLink> </li>\n                    {\n                        localStorage.getItem('user')\n                            ? <li className=\"nav-item\"><NavLink className=\"nav-link\" to='/booking'>Booking</NavLink> </li>\n                            : null\n                    }\n                    \n                </ul>\n\n                <ul className=\"navbar-nav ml-auto\">\n                    {\n                        localStorage.getItem('user')\n                            ? <li className=\"nav-item\"><NavLink className=\"nav-link\" to='/logout'>Logout</NavLink></li>\n                            : <li className=\"nav-item\"><NavLink className=\"nav-link\" to='/login'>Login</NavLink></li>\n                    }\n                </ul>\n            </nav>\n            <Route exact path='/' component={HomePage}/>\n            <Route exact path='/login' component={LoginPage}/>\n            <Route exact path='/logout' component={LogoutPage}/>\n            <Route exact path='/cart' component={CartPage}/>\n            <PrivateRoute exact path=\"/booking\" component={BookingPage} />\n            <PrivateRoute exact path=\"/admin\" component={AdminPage} />\n            <Route exact path='/register' component={RegisterPage}/>\n           </div>  \n        \n    </Router>\n\n)\n\nexport default AppRouter;\n","import React, { Component } from 'react';\nimport { NavLink, withRouter } from \"react-router-dom\";\nimport { connect } from 'react-redux';\n\nimport './index.css';\n// import './navigation.css'\nimport { history } from './config/history';\nimport AppRouter from './Router'\nimport { alertActions } from './actions'\n\n\nclass App extends Component {\n\n  constructor(props) {\n    super(props);\n\n    const { dispatch } = this.props;\n    history.listen((location, action) => {\n        // clear alert on location change\n        dispatch(alertActions.clear());\n    });\n}\n\n  render() {\n    const { alert } = this.props;\n    \n    return (\n      <div>\n        <AppRouter/>\n          {alert.message &&\n             <div className={`alert ${alert.type}`}>{alert.message}</div>\n          }\n\n          \n      </div>\n    );\n  }\n}\n\n// export default App;\n\nfunction mapStateToProps(state) {\n  const { alert } = state;\n  return {\n      alert\n  };\n}\n\n// function mapStateToProps(state) {\n//   const { users, authentication } = state;\n//   const { user } = authentication;\n//   return {\n//       user,\n//       users\n//   };\n// }\n// const connectedAppPage = connect(mapStateToProps)(App);\n// export { connectedAppPage as App };\n\nconst connectedApp = withRouter(connect(mapStateToProps)(App));\nexport { connectedApp as App };","const cartReducer = (state=[], action) => {\n    switch (action.type) {\n        case 'ADD':\n            \n            return [...state, action.payload]\n    \n        case 'REMOVE':\n            const firstMatchIndex = state.indexOf(action.payload)\n            return state.filter((item, index) => index !== firstMatchIndex)\n\n        default:\n            return state;\n    }\n}\n\nexport default cartReducer","import { userConstants } from '../../constants'\n\nlet user = JSON.parse(localStorage.getItem('user'));\nconst initialState = user ? { loggedIn: true, user } : {};\n\nexport function authentication(state = initialState, action) {\n  switch (action.type) {\n    case userConstants.LOGIN_REQUEST:\n      return {\n        loggingIn: true,\n        user: action.user\n      };\n    case userConstants.LOGIN_SUCCESS:\n      return {\n        loggedIn: true,\n        user: action.user\n      };\n    case userConstants.LOGIN_FAILURE:\n      return {};\n    case userConstants.LOGOUT:\n      return {};\n    default:\n      return state\n  }\n}","import { createStore, combineReducers, applyMiddleware, compose } from \"redux\";\nimport thunkMiddleware from 'redux-thunk';\n\nimport cartReducer from \"../features/cart/reducer\";\nimport { authentication, registration } from \"../features/authenticate\";\nimport { alert } from '../features/alert/alert.reducer'\n\nconst rootReducer = combineReducers({\n    cart: cartReducer,\n    authentication: authentication,\n    registration: registration,\n    alert: alert\n});\n\nconst composeEnhancers =\n  typeof window === 'object' &&\n  window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ ?   \n    window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({\n      // Specify extension’s options like name, actionsBlacklist, actionsCreators, serialize...\n    }) : compose;\n\nconst enhancer = composeEnhancers(\n    applyMiddleware(\n        thunkMiddleware\n    )\n    // other store enhancers if any\n    );\n\nconst store = createStore(\n    rootReducer, \n    enhancer\n    // window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__(),\n    // applyMiddleware(\n    //     thunkMiddleware\n    // )\n);\n\nexport default store;","import { userConstants } from '../../constants'\n\nexport function registration(state = {}, action) {\n    switch (action.type) {\n      case userConstants.REGISTER_REQUEST:\n        return { registering: true };\n      case userConstants.REGISTER_SUCCESS:\n        return {};\n      case userConstants.REGISTER_FAILURE:\n        return {};\n      default:\n        return state\n    }\n  }","import { alertConstants } from \"../../constants\";\n\nexport function alert(state = {}, action) {\n    switch (action.type) {\n      case alertConstants.SUCCESS:\n        return {\n          type: 'alert-success',\n          message: action.message\n        };\n      case alertConstants.ERROR:\n        return {\n          type: 'alert-danger',\n          message: action.message\n        };\n      case alertConstants.CLEAR:\n        return {};\n      default:\n        return state\n    }\n  }","// array in local storage for registered users\nlet users = JSON.parse(localStorage.getItem('users')) || [];\n    \nexport function configureFakeBackend() {\n    let realFetch = window.fetch;\n    window.fetch = function (url, opts) {\n        return new Promise((resolve, reject) => {\n            // wrap in timeout to simulate server api call\n            setTimeout(() => {\n\n                // authenticate\n                if (url.endsWith('/users/authenticate') && opts.method === 'POST') {\n                    // get parameters from post request\n                    let params = JSON.parse(opts.body);\n\n                    // find if any user matches login credentials\n                    let filteredUsers = users.filter(user => {\n                        return user.username === params.username && user.password === params.password;\n                    });\n\n                    if (filteredUsers.length) {\n                        // if login details are valid return user details and fake jwt token\n                        let user = filteredUsers[0];\n                        let responseJson = {\n                            id: user.id,\n                            username: user.username,\n                            firstName: user.firstName,\n                            lastName: user.lastName,\n                            token: 'fake-jwt-token'\n                        };\n                        resolve({ ok: true, text: () => Promise.resolve(JSON.stringify(responseJson)) });\n                    } else {\n                        // else return error\n                        reject('Username or password is incorrect');\n                    }\n\n                    return;\n                }\n\n                // get users\n                if (url.endsWith('/users') && opts.method === 'GET') {\n                    // check for fake auth token in header and return users if valid, this security is implemented server side in a real application\n                    if (opts.headers && opts.headers.Authorization === 'Bearer fake-jwt-token') {\n                        resolve({ ok: true, text: () => Promise.resolve(JSON.stringify(users))});\n                    } else {\n                        // return 401 not authorised if token is null or invalid\n                        reject('Unauthorised');\n                    }\n\n                    return;\n                }\n\n                // get user by id\n                if (url.match(/\\/users\\/\\d+$/) && opts.method === 'GET') {\n                    // check for fake auth token in header and return user if valid, this security is implemented server side in a real application\n                    if (opts.headers && opts.headers.Authorization === 'Bearer fake-jwt-token') {\n                        // find user by id in users array\n                        let urlParts = url.split('/');\n                        let id = parseInt(urlParts[urlParts.length - 1]);\n                        let matchedUsers = users.filter(user => { return user.id === id; });\n                        let user = matchedUsers.length ? matchedUsers[0] : null;\n\n                        // respond 200 OK with user\n                        resolve({ ok: true, text: () => JSON.stringify(user)});\n                    } else {\n                        // return 401 not authorised if token is null or invalid\n                        reject('Unauthorised');\n                    }\n\n                    return;\n                }\n\n                // register user\n                if (url.endsWith('/users/register') && opts.method === 'POST') {\n                    // get new user object from post body\n                    let newUser = JSON.parse(opts.body);\n\n                    // validation\n                    let duplicateUser = users.filter(user => { return user.username === newUser.username; }).length;\n                    if (duplicateUser) {\n                        reject('Username \"' + newUser.username + '\" is already taken');\n                        return;\n                    }\n\n                    // save new user\n                    newUser.id = users.length ? Math.max(...users.map(user => user.id)) + 1 : 1;\n                    users.push(newUser);\n                    localStorage.setItem('users', JSON.stringify(users));\n\n                    // respond 200 OK\n                    resolve({ ok: true, text: () => Promise.resolve() });\n\n                    return;\n                }\n\n                // delete user\n                if (url.match(/\\/users\\/\\d+$/) && opts.method === 'DELETE') {\n                    // check for fake auth token in header and return user if valid, this security is implemented server side in a real application\n                    if (opts.headers && opts.headers.Authorization === 'Bearer fake-jwt-token') {\n                        // find user by id in users array\n                        let urlParts = url.split('/');\n                        let id = parseInt(urlParts[urlParts.length - 1]);\n                        for (let i = 0; i < users.length; i++) {\n                            let user = users[i];\n                            if (user.id === id) {\n                                // delete user\n                                users.splice(i, 1);\n                                localStorage.setItem('users', JSON.stringify(users));\n                                break;\n                            }\n                        }\n\n                        // respond 200 OK\n                        resolve({ ok: true, text: () => Promise.resolve() });\n                    } else {\n                        // return 401 not authorised if token is null or invalid\n                        reject('Unauthorised');\n                    }\n\n                    return;\n                }\n\n                // pass through any requests not handled above\n                realFetch(url, opts).then(response => resolve(response));\n\n            }, 500);\n        });\n    }\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom'\nimport { Provider } from 'react-redux';\n\nimport './index.css';\nimport {App} from './App';\nimport store from \"./config/store\";\n\n// setup fake backend\nimport { configureFakeBackend } from './services/fake-backend';\nconfigureFakeBackend();\n\nconst app = <Provider store={store}>\n    <BrowserRouter>\n            <App/>\n    </BrowserRouter>\n</Provider>\n\nReactDOM.render(app, document.getElementById('root'));\n"],"sourceRoot":""}